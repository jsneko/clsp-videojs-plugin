<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
        crossorigin="anonymous">

    <title>Hello, world!</title>

    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>
    <script type="text/javascript" src="./node_modules/chart.js/dist/Chart.bundle.min.js"></script>
</head>

<body>
    <canvas id="myChart"></canvas>
    <script>

    const options = {
        type: 'line',
        data: {
            labels: [],
            datasets: [{
                label: 'memory',
                data: [],
                pointRadius: 0,
                backgroundColor: [
                    'rgba(255, 99, 132, 0.2)',
                    // 'rgba(54, 162, 235, 0.2)',
                    // 'rgba(255, 206, 86, 0.2)',
                    // 'rgba(75, 192, 192, 0.2)',
                    // 'rgba(153, 102, 255, 0.2)',
                    // 'rgba(255, 159, 64, 0.2)'
                ],
                borderColor: [
                    'rgba(255,99,132,1)',
                    // 'rgba(54, 162, 235, 1)',
                    // 'rgba(255, 206, 86, 1)',
                    // 'rgba(75, 192, 192, 1)',
                    // 'rgba(153, 102, 255, 1)',
                    // 'rgba(255, 159, 64, 1)'
                ],
                borderWidth: 1
            }]
        },
        options: {
            animation: {
                duration: 0, // general animation time
            },
            hover: {
                animationDuration: 0, // duration of animations when hovering an item
            },
            responsiveAnimationDuration: 0, // animation duration after a resize
            scales: {
                yAxes: [{
                    ticks: {
                        beginAtZero: true
                    }
                }]
            }
        }
    };

    window.jQuery.ajax({
        method: 'GET',
        url: 'http://localhost:3000',
    })
    .done(({ headers, timestamps, data }) => {
        // const fileNames = Object.keys(timestamps);

        // for (let i = 0; i < fileNames.length; i++) {
        //     const fileName = fileNames[i];
        //     const _timestamps = timestamps[fileName];
        //     options.data.labels = headers[fileName];

        //     for (let j = 0; j < _timestamps.length; j++) {
        //         const timestamp = _timestamps[j];

        //         options.data.datasets[0].data.push(data[fileName][timestamp]);
        //     }
        // }

        // const myChart = new Chart("myChart", options);
    });

    // let data = [];
    // let labels = [];
    // function randomNumber (min = 0, max = 100) {
    //     return Math.floor(Math.random() * (max - min + 1) + min);
    // }
    // for (let i = 0; i < 10000; i++) {
    //     labels.push(i);
    //     data.push({
    //         x: i,
    //         y: randomNumber(),
    //     });
    // }
    </script>
</body>

</html>

